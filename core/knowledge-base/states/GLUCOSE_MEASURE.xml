<?xml version="1.0" encoding="UTF-8"?>
<state name="GLUCOSE_MEASURE_STATE">
    <categories>Measurements</categories>
    <description>Abstraction for the measurements of GLUCOSE (Lab / Capillary)</description>
    <derived-from name="GLUCOSE_MEASURE" tak="raw-concept"/>

    <!-- Concatenate adjacent equal states within these windows; allow 1 outlier skip -->
    <persistence good-after="24h" interpolate="true" max-skip="1"/>

    <abstraction-rules>
        <rule value="Severe Hypoglycemia" operator="and">
            <attribute idx="0">
                <allowed-value max="54"/>
            </attribute>
        </rule>
        <rule value="Hypoglycemia" operator="and">
            <attribute idx="0">
                <allowed-value min="54" max="70"/>
            </attribute>
        </rule>
        <rule value="Low Glucose" operator="and">
            <attribute idx="0">
                <allowed-value min="70" max="140"/>
            </attribute>
        </rule>
        <rule value="Normal Glucose" operator="and">
            <attribute idx="0">
                <allowed-value min="140" max="180"/>
            </attribute>
        </rule>
        <rule value="High Glucose" operator="and">
            <attribute idx="0">
                <allowed-value min="180" max="250"/>
            </attribute>
        </rule>
        <rule value="Hyperglycemia" operator="and">
            <attribute idx="0">
                <allowed-value min="250"/>
            </attribute>
        </rule>
    </abstraction-rules>
</state>