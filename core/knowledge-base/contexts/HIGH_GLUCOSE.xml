<?xml version="1.0" encoding="UTF-8"?>
<context name="HIGH_GLUCOSE_CONTEXT">
    <categories>Diagnosis</categories>
    <description>HIGH GLUCOSE context to mark time windows where insulin treatment is needed, derived from steady glucose measurements</description>
    <derived-from>
        <attribute name="DISGLYCEMIA_EVENT" tak="event" ref="A1"/>
    </derived-from>

    <!-- An instance of these will clip the context windows -->
    <clippers>
        <!-- Instance of non-high glucose immediately terminates the context window -->
        <clipper name="NORMAL_GLUCOSE_IND" tak="raw-concept" clip-before="0s" clip-after="1s"/>
        <clipper name="LOW_GLUCOSE_IND" tak="raw-concept" clip-before="0s" clip-after="1s"/>
        <!-- Admission of BOLUS before HIGH GLUCOSE gives "quiet" of 4 hours -->
        <clipper name="BOLUS_BITZUA" tak="raw-concept" clip-before="0s" clip-after="4h"/>
    </clippers>

    <abstraction-rules>
        <rule value="True" operator="or">
            <attribute ref="A1">
                <allowed-value equal="Hyperglycemia"/>
            </attribute>
        </rule>
    </abstraction-rules>
    
    <context-windows>
        <!-- A high glucose diagnosis -->
        <persistence value="True" good-before="0h" good-after="24h"/>
    </context-windows>

</context>